<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>my devlog</title>
      	<style>
		.code 
		{
		  background-color : #666666;
		  border-radius: 25px;
		}
	</style>
   </head>
   <body style ="color: #F8F8F8; background-color: #1C1C1C">
     <a href="/personal_homepage/index.html">Home</a>
     <hr />
      <div style="text-align: center;">
         <main style="display: inline-block; text-align: left">
         	<h2>file handling with C</h2>
		 <p>writing a variety of functions that deal with files</p>
		 <ul>
			 <li> change a file name</li>
			 <li> list files in a current directory</li>
		 </ul>
		<div class="code">
         		<pre><code>
int add_suffix(const char* suffix, const char* filename)
{
	char s[50];
	
	unsigned int len = 0;
	unsigned int index = 0;
	for(const char* c = suffix; c[index] != '\0'; ++index)
	{
		s[len] = c[index];
		len++;
	}
	index = 0;
	for(const char* c = filename; c[index] != '\0'; ++index)
	{
		s[len] = c[index];
		len++;
	}
	s[len] = '\0';
	
	return rename(filename, s);	
}			
int change_filename(const char* old, const char* new)
{
	FILE *file;
	if(file = fopen(old,"r"))
	{
		printf("%s exists.\n",old);
        fclose(file);
    }
    else
    {
        printf("%s doesn't exist.\n",old);
		return 1;
    }
	return rename(old, new);
}

int list_files()
{
	struct dirent* de;
	
	DIR* dr = opendir(".");
	
	if(dr == NULL)
	{
		printf("cannot open current directory.");
		return 1;
	}
	
	while((de = readdir(dr)) != NULL)
	{
		printf("%s\n", de->d_name);
	}
	
	
	closedir(dr);   
	return 0;
}
            		</code></pre>
		 </div>
         </main>
      </div>
   </body>
</html>
